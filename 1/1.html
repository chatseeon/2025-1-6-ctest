<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cè¯­è¨€ç¨‹åºè®¾è®¡ç»ƒä¹ è¯•å·1</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #2980b9;
            border-left: 4px solid #3498db;
            padding-left: 10px;
            margin-top: 30px;
        }
        .question {
            background-color: white;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .options {
            margin: 10px 0;
        }
        .option {
            margin: 5px 0;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 3px;
            transition: background-color 0.3s;
        }
        .option:hover {
            background-color: #f0f0f0;
        }
        .option.selected {
            background-color: #d4edff;
        }
        .option.correct {
            background-color: #d4edda;
            color: #155724;
        }
        .option.wrong {
            background-color: #f8d7da;
            color: #721c24;
        }
        .explanation {
            display: none;
            padding: 10px;
            margin-top: 10px;
            background-color: #e9ecef;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .explanation.show {
            display: block;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 3px;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .score-display {
            text-align: center;
            font-size: 1.2em;
            margin: 20px 0;
            padding: 10px;
            background-color: #e3f2fd;
            border-radius: 5px;
        }
        .code {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 3px;
            overflow-x: auto;
        }
        .error-line {
            background-color: #fff3cd;
        }
        .blank-line {
            background-color: #d1ecf1;
        }
    </style>
</head>
<body>
    <h1>Cè¯­è¨€ç¨‹åºè®¾è®¡ç»ƒä¹ è¯•å·1</h1>
    
    <div class="score-display">
        å¾—åˆ†: <span id="score">0</span> / <span id="total">100</span>
    </div>

    <h2>ä¸€ã€é€‰æ‹©é¢˜ï¼ˆæ¯é¢˜2åˆ†ï¼Œå…±50åˆ†ï¼‰</h2>
    
    <div id="questions-container">
        <!-- é€‰æ‹©é¢˜å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
    </div>

    <h2>äºŒã€æ”¹é”™é¢˜ï¼ˆæ¯é¢˜15åˆ†ï¼Œå…±30åˆ†ï¼‰</h2>
    
    <div class="question">
        <p>1. åœ¨å±å¹•ä¸Šè¾“å‡ºä»¥ä¸‹å›¾å½¢ï¼ˆè¯´æ˜ï¼šå­—ç¬¦ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼‰ã€‚</p>
        <img src="./0605.png" alt="è¾“å‡ºå›¾å½¢ç¤ºä¾‹" style="max-height: 200px; margin: 10px 0;">
        <pre class="code">
#include &lt;stdio.h&gt;
void main()
{
  int i,j;
  i=<span class="error-line">7</span>;       /*$ERROR$*/
  while(i>0) 
   {
     j=1;
     while(j&lt;7-i)
     {  
        printf(" ");  /*è¾“å‡ºä¸€ä¸ªç©ºæ ¼*/
        j++;
     }
     j=<span class="error-line">i</span>;            /*$ERROR$*/ 
     while(j&lt;=i)
     { 
        printf("!");   
        j++;
     }
     printf("<span class="error-line">/n</span>");  /*$ERROR$*/
     i--;  
   }
}</pre>
        <div class="options">
            <p>è¯·æŒ‡å‡ºé”™è¯¯å¹¶ä¿®æ”¹ï¼š</p>
            <p>1. ç¬¬ä¸€å¤„é”™è¯¯ï¼š<input type="text" id="correction1" placeholder="è¯·è¾“å…¥ä¿®æ­£åçš„ä»£ç "></p>
            <p>2. ç¬¬äºŒå¤„é”™è¯¯ï¼š<input type="text" id="correction2" placeholder="è¯·è¾“å…¥ä¿®æ­£åçš„ä»£ç "></p>
            <p>3. ç¬¬ä¸‰å¤„é”™è¯¯ï¼š<input type="text" id="correction3" placeholder="è¯·è¾“å…¥ä¿®æ­£åçš„ä»£ç "></p>
        </div>
        <button onclick="checkCorrections()">æäº¤æ”¹é”™é¢˜ç­”æ¡ˆ</button>
        <div id="correction-feedback" class="explanation"></div>
    </div>

    <div class="question">
        <p>2. å‡½æ•°searchçš„åŠŸèƒ½æ˜¯æ±‚è§£ä¸€ç»´æ•°ç»„ä¸­çš„æœ€å°å…ƒç´ çš„ä¸‹æ ‡ã€‚ä¸»å‡½æ•°è°ƒç”¨searchå‡½æ•°ï¼Œå°†å·²ç»™çš„ä¸€ç»´æ•°ç»„çš„æœ€å°å€¼å’Œæœ€å°å€¼ä¸‹æ ‡è¾“å‡ºã€‚</p>
        <pre class="code">
#include &lt;stdio.h&gt;
int search(int a[],int n) 
{
 int i,min;
 min=<span class="error-line">1</span>;  /*$ERROR$*/
 for(i=1;i&lt;n;i++)
 {
  if(a[i]&lt;a[min])
    min=i; 
 }
 return <span class="error-line">i</span>;  /*$ERROR$*/
}
void main()
{
  int a[10]={-13,1,-5,4,9,0,-8,7,-6,2};
  int min;
  min=search(<span class="error-line">a[10]</span>,10); /*$ERROR$*/
  printf("min=%d,address=%d\n",a[min],min);
}</pre>
        <div class="options">
            <p>è¯·æŒ‡å‡ºé”™è¯¯å¹¶ä¿®æ”¹ï¼š</p>
            <p>1. ç¬¬ä¸€å¤„é”™è¯¯ï¼š<input type="text" id="correction4" placeholder="è¯·è¾“å…¥ä¿®æ­£åçš„ä»£ç "></p>
            <p>2. ç¬¬äºŒå¤„é”™è¯¯ï¼š<input type="text" id="correction5" placeholder="è¯·è¾“å…¥ä¿®æ­£åçš„ä»£ç "></p>
            <p>3. ç¬¬ä¸‰å¤„é”™è¯¯ï¼š<input type="text" id="correction6" placeholder="è¯·è¾“å…¥ä¿®æ­£åçš„ä»£ç "></p>
        </div>
        <button onclick="checkCorrections2()">æäº¤æ”¹é”™é¢˜ç­”æ¡ˆ</button>
        <div id="correction-feedback2" class="explanation"></div>
    </div>

    <h2>ä¸‰ã€ç¨‹åºå¡«ç©ºé¢˜ï¼ˆæ¯ç©º5åˆ†ï¼Œå…±15åˆ†ï¼‰</h2>
    
    <div class="question">
        <p>ä»é”®ç›˜è¾“å…¥ä¸€è¡Œå­—ç¬¦ä¸²ï¼Œç»Ÿè®¡å…¶ä¸­å¤§å†™å­—æ¯ä¸ªæ•°ã€‚</p>
        <pre class="code">
#include &lt;stdio.h&gt;
void main()
{
    char str[81];
    int i,count;
    printf("Input a string:\n");
    <span class="blank-line">_________</span>;   /*$BLANK$*/
    count=0; 
    i=<span class="blank-line">_________</span>;  /*$BLANK$*/
    while(str[i]!='\0')
    {
        if (str[i]>='A'&&str[i]&lt;='Z')
            <span class="blank-line">_________</span>;  /*$BLANK$*/
        i++;  	
    }
    printf("%d\n",count);
}</pre>
        <div class="options">
            <p>è¯·å¡«å†™ç©ºç™½å¤„ï¼š</p>
            <p>1. ç¬¬ä¸€å¤„ç©ºç™½ï¼š<input type="text" id="blank1" placeholder="è¯·è¾“å…¥å¡«ç©ºå†…å®¹"></p>
            <p>2. ç¬¬äºŒå¤„ç©ºç™½ï¼š<input type="text" id="blank2" placeholder="è¯·è¾“å…¥å¡«ç©ºå†…å®¹"></p>
            <p>3. ç¬¬ä¸‰å¤„ç©ºç™½ï¼š<input type="text" id="blank3" placeholder="è¯·è¾“å…¥å¡«ç©ºå†…å®¹"></p>
        </div>
        <button onclick="checkBlanks()">æäº¤å¡«ç©ºé¢˜ç­”æ¡ˆ</button>
        <div id="blank-feedback" class="explanation"></div>
    </div>

    <h2>å››ã€ç»¼åˆåº”ç”¨é¢˜ï¼ˆå…±30åˆ†ï¼‰</h2>
    
    <div class="question">
        <p>1. ï¼ˆ8åˆ†ï¼‰é”®ç›˜è¾“å…¥æ¢¯å½¢çš„ä¸Šåº•é•¿aã€ä¸‹åº•é•¿bå’Œé«˜hï¼Œè®¡ç®—å¹¶è¾“å‡ºæ¢¯å½¢çš„é¢ç§¯sã€‚è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼šs = (a + b) * h / 2</p>
        <img src="./1-1.png" alt="æ¢¯å½¢é¢ç§¯å…¬å¼" style="max-height: 100px; margin: 10px 0;">
        <div class="options">
            <p>è¯·ç¼–å†™å®Œæ•´ç¨‹åºï¼š</p>
            <textarea id="program1" rows="10" style="width:100%; font-family: 'Courier New', Courier, monospace;" placeholder="è¯·åœ¨æ­¤å¤„ç¼–å†™ç¨‹åºä»£ç "></textarea>
        </div>
        <button onclick="checkProgram1()">æäº¤ç¨‹åºç­”æ¡ˆ</button>
        <div id="program1-feedback" class="explanation"></div>
    </div>

    <div class="question">
        <p>2. ï¼ˆ10åˆ†ï¼‰æ ¹æ®ä¸‹å¼æ±‚sçš„å€¼ï¼š</p>
        <p>è¦æ±‚ï¼š(1)ä½¿ç”¨å¾ªç¯å®ç°ï¼›(2)è¾“å‡ºç»“æœä¿ç•™5ä½å°æ•°ï¼Œå½¢å¼ä¸ºï¼šs=12.34567</p>
        <img src="2-1.png" alt="é¢˜ç›®é…å›¾" style="max-width:100%; height:auto; margin:10px 0;">
        <div class="options">
            <p>è¯·ç¼–å†™å®Œæ•´ç¨‹åºï¼š</p>
            <textarea id="program2" rows="10" style="width:100%; font-family: 'Courier New', Courier, monospace;" placeholder="è¯·åœ¨æ­¤å¤„ç¼–å†™ç¨‹åºä»£ç "></textarea>
        </div>
        <button onclick="checkProgram2()">æäº¤ç¨‹åºç­”æ¡ˆ</button>
        <div id="program2-feedback" class="explanation"></div>
    </div>

    <div class="question">
        <p>3. ï¼ˆ12åˆ†ï¼‰2020å¹´æ–°å† è‚ºç‚ç–«æƒ…æœŸé—´ï¼ŒæŸåŒ»é™¢4æœˆä»½æ¯å¤©æ²»æ„ˆç—…äººæ•°å­˜å‚¨åœ¨æ•°ç»„aä¸­ï¼Œè®¡ç®—å¹¶è¾“å‡ºè¯¥é™¢4æœˆä»½ç´¯è®¡æ²»æ„ˆç—…äººæ€»æ•°å’Œæ¯å¤©æ²»æ„ˆç—…äººæ•°çš„å¹³å‡å€¼ï¼ˆè¦æ±‚ä½¿ç”¨å¾ªç¯å®ç°ï¼Œå¹³å‡å€¼ç»“æœä¿ç•™2ä½å°æ•°ï¼‰ã€‚</p>
        <pre class="code">
int a[30]={11,15,17,20,31,12,45,56,65,81,68,83,69,62,90,
            89,85,83,83,70,79,81,62,76,79,66,85,89,89,72};</pre>
        <div class="options">
            <p>è¯·ç¼–å†™å®Œæ•´ç¨‹åºï¼š</p>
            <textarea id="program3" rows="10" style="width:100%; font-family: 'Courier New', Courier, monospace;" placeholder="è¯·åœ¨æ­¤å¤„ç¼–å†™ç¨‹åºä»£ç "></textarea>
        </div>
        <button onclick="checkProgram3()">æäº¤ç¨‹åºç­”æ¡ˆ</button>
        <div id="program3-feedback" class="explanation"></div>
    </div>

    <script>
        // è¯•é¢˜æ•°æ®
        const questions = [
            {
                question: "1. ä¸‹åˆ—å…³äºCè¯­è¨€ç¨‹åºä¹¦å†™è§„åˆ™çš„è¯´æ³•ä¸­æ­£ç¡®çš„æ˜¯______ã€‚",
                options: [
                    "A. ä¸åŒºåˆ†å¤§å°å†™å­—æ¯",
                    "B. ä¸€è¡Œåªèƒ½å†™ä¸€æ¡è¯­å¥",
                    "C. ä¸€æ¡è¯­å¥å¯åˆ†æˆå‡ è¡Œä¹¦å†™",
                    "D. æ¯è¡Œå¿…é¡»æœ‰è¡Œå·"
                ],
                correct: 2,
                explanation: "è§£æï¼šCè¯­è¨€ä¸­ï¼Œä¸€æ¡è¯­å¥å¯ä»¥åˆ†æˆå¤šè¡Œä¹¦å†™ï¼Œåªè¦åœ¨é€‚å½“çš„ä½ç½®æ–­å¼€å³å¯ã€‚"
            },
            {
                question: "2. ä¸‹é¢å…³äºå˜é‡xã€yå®šä¹‰åŠåˆå§‹åŒ–æ­£ç¡®çš„è¯­å¥æ˜¯______ã€‚",
                options: [
                    "A. int x=y=10;",
                    "B. char x='\\n',char y='b';",
                    "C. float x=3;int y=2;",
                    "D. double x=0.5;y=4.5;"
                ],
                correct: 2,
                explanation: "è§£æï¼šCé€‰é¡¹ä¸­è™½ç„¶xå’Œyç±»å‹ä¸åŒï¼Œä½†å®šä¹‰å’Œåˆå§‹åŒ–è¯­æ³•æ˜¯æ­£ç¡®çš„ã€‚Aé€‰é¡¹éœ€è¦å…ˆå®šä¹‰yï¼›Bé€‰é¡¹å¤šå†™äº†charï¼›Dé€‰é¡¹yæœªå®šä¹‰ç±»å‹ã€‚"
            },
            {
                question: "3. ä»¥ä¸‹ä¸èƒ½å®šä¹‰ä¸ºç”¨æˆ·æ ‡è¯†ç¬¦çš„æ˜¯______ã€‚",
                options: [
                    "A. Scanf",
                    "B. x_y",
                    "C. int",
                    "D. x12"
                ],
                correct: 2,
                explanation: "è§£æï¼šintæ˜¯Cè¯­è¨€çš„å…³é”®å­—ï¼Œä¸èƒ½ä½œä¸ºç”¨æˆ·æ ‡è¯†ç¬¦ä½¿ç”¨ã€‚"
            },
            {
                question: "4. è®¾æœ‰æ•´å‹å˜é‡x,yï¼Œä¸‹åˆ—é€‰é¡¹ä¸­ï¼Œä¸è¡¨è¾¾å¼x*y/5å€¼ç›¸åŒçš„è¡¨è¾¾å¼æ˜¯______ã€‚",
                options: [
                    "A. x/5*y",
                    "B. (x*y)/5",
                    "C. (x/5)*(y/5)",
                    "D. x*(y/5)"
                ],
                correct: 1,
                explanation: "è§£æï¼šåŸè¡¨è¾¾å¼x*y/5çš„è®¡ç®—é¡ºåºæ˜¯å…ˆä¹˜åé™¤ï¼ŒBé€‰é¡¹é€šè¿‡æ‹¬å·æ˜ç¡®äº†ç›¸åŒçš„è®¡ç®—é¡ºåºã€‚"
            },
            {
                question: "5. è®¾æœ‰int a;int f=3;ï¼Œåˆ™æ‰§è¡Œè¯­å¥a=(f++)%3;åaçš„å€¼æ˜¯______ã€‚",
                options: [
                    "A. 0",
                    "B. 1",
                    "C. 2",
                    "D. 3"
                ],
                correct: 0,
                explanation: "è§£æï¼šf++æ˜¯å…ˆä½¿ç”¨fçš„å€¼å†è‡ªå¢ï¼Œæ‰€ä»¥3%3=0ï¼Œç„¶åfå˜ä¸º4ã€‚"
            },
            {
                question: "6. å·²çŸ¥int x=1,y=2,z;ï¼Œæ‰§è¡Œè¯­å¥z=(x+y,x-y);åï¼Œå˜é‡zçš„å€¼æ˜¯______ã€‚",
                options: [
                    "A. 1",
                    "B. 2",
                    "C. 3",
                    "D. -1"
                ],
                correct: 3,
                explanation: "è§£æï¼šé€—å·è¡¨è¾¾å¼çš„å€¼æ˜¯æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œæ‰€ä»¥z=x-y=1-2=-1ã€‚"
            },
            {
                question: "7. è®¾æœ‰float f1=2.6,f2=2.5;ï¼Œåˆ™è¡¨è¾¾å¼(int)f1+f2çš„å€¼ä¸º______ã€‚",
                options: [
                    "A. 5",
                    "B. 4.5",
                    "C. 4",
                    "D. 5.5"
                ],
                correct: 1,
                explanation: "è§£æï¼š(int)f1å°†2.6è½¬æ¢ä¸º2ï¼Œç„¶å2+2.5=4.5ã€‚"
            },
            {
                question: "8. è¡¨ç¤ºå…³ç³»\"1&lt;xâ‰¤3\"çš„Cè¯­è¨€è¡¨è¾¾å¼æ˜¯______ã€‚",
                 options: [
                    "A. 1&lt;xâ‰¤3",
                    "B. (x&gt;1)and(x&lt;=3)",
                    "C. (1&lt;x)&&(x&lt;=3)",
                    "D. (1&lt;x)||(x&lt;=3)"
    ],
    correct: 2,
    explanation: "è§£æï¼šCè¯­è¨€ä¸­ç”¨&&è¡¨ç¤ºé€»è¾‘ä¸ï¼Œéœ€è¦ä¸¤ä¸ªæ¡ä»¶éƒ½æ»¡è¶³ã€‚"
},
            {
                question: "9. è®¾æœ‰ä»¥ä¸‹è¯­å¥ï¼šchar c1,c2;scanf(\"%c%c\",&c1,&c2);ï¼Œè‹¥è¦ä¸ºå˜é‡c1å’Œc2åˆ†åˆ«è¾“å…¥å­—ç¬¦Aå’ŒBï¼Œæ­£ç¡®çš„è¾“å…¥å½¢å¼åº”è¯¥æ˜¯______ã€‚",
                options: [
                    "A. Aå’ŒBä¹‹é—´ç”¨é€—å·åˆ†éš”",
                    "B. Aå’ŒBä¹‹é—´ä¸èƒ½æœ‰ä»»ä½•åˆ†éš”ç¬¦",
                    "C. Aå’ŒBä¹‹é—´å¯ä»¥ç”¨å›è½¦åˆ†éš”",
                    "D. Aå’ŒBä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”"
                ],
                correct: 1,
                explanation: "è§£æï¼š%c%cæ ¼å¼ä¼šè¿ç»­è¯»å–ä¸¤ä¸ªå­—ç¬¦ï¼Œä¸­é—´ä¸èƒ½æœ‰ä»»ä½•åˆ†éš”ç¬¦ï¼ˆåŒ…æ‹¬ç©ºæ ¼å’Œå›è½¦ï¼‰ã€‚"
            },
            {
                question: "10. ä»¥ä¸‹ç¨‹åºæ®µçš„è¾“å‡ºç»“æœæ˜¯______ã€‚<br>int a=88;<br>if (a>90) printf(\"%d\",a);<br>if (a>80) printf(\"%d\",a);<br>if (a>70) printf(\"%d\",a);",
                options: [
                    "A. 888888",
                    "B. 8888",
                    "C. 88",
                    "D. 8"
                ],
                correct: 1,
                explanation: "è§£æï¼ša=88ä¸æ»¡è¶³a>90ï¼Œæ»¡è¶³a>80å’Œa>70ï¼Œæ‰€ä»¥ä¼šè¾“å‡ºä¸¤æ¬¡88ï¼Œå…±4ä¸ªå­—ç¬¦ã€‚"
            },
            {
                question: "11. è®¾æœ‰è¯´æ˜è¯­å¥int a=1;ï¼Œåˆ™æ‰§è¡Œä»¥ä¸‹è¯­å¥åè¾“å‡º______ã€‚<br>switch(a){<br>case 1: printf(\"å®‰å¾½\");<br>case 2: printf(\"è®¡ç®—æœº\");<br>default:printf(\"æ°´å¹³è€ƒè¯•\");<br>}",
                options: [
                    "A. å®‰å¾½è®¡ç®—æœºæ°´å¹³è€ƒè¯•",
                    "B. å®‰å¾½",
                    "C. å®‰å¾½è®¡ç®—æœº",
                    "D. è®¡ç®—æœºæ°´å¹³è€ƒè¯•"
                ],
                correct: 0,
                explanation: "è§£æï¼šç”±äºæ²¡æœ‰breakè¯­å¥ï¼Œä¼šä»åŒ¹é…çš„case 1å¼€å§‹ä¸€ç›´æ‰§è¡Œåˆ°æœ€åã€‚"
            },
            {
                question: "12. for(è¡¨è¾¾å¼1;;è¡¨è¾¾å¼3)å¯ç†è§£ä¸º______ã€‚",
                options: [
                    "A. for(è¡¨è¾¾å¼1;0;è¡¨è¾¾å¼3)",
                    "B. for(è¡¨è¾¾å¼1;1;è¡¨è¾¾å¼3)",
                    "C. for(è¡¨è¾¾å¼1;è¡¨è¾¾å¼1;è¡¨è¾¾å¼3)",
                    "D. for(è¡¨è¾¾å¼1;è¡¨è¾¾å¼3;è¡¨è¾¾å¼3)"
                ],
                correct: 1,
                explanation: "è§£æï¼šforå¾ªç¯ä¸­çœç•¥æ¡ä»¶è¡¨è¾¾å¼æ—¶ï¼Œé»˜è®¤ä¸ºçœŸ(1)ï¼Œå½¢æˆæ— é™å¾ªç¯ã€‚"
            },
            {
                question: "13. æ‰§è¡Œä¸‹åˆ—è¯­å¥åï¼Œå˜é‡bçš„å€¼æ˜¯______ã€‚<br>int a=1,b=9;<br>do{<br>b=b-a;<br>a++;<br>}while(b>0);",
                options: [
                    "A. -2",
                    "B. -1",
                    "C. 0",
                    "D. 1"
                ],
                correct: 1,
                explanation: "è§£æï¼šå¾ªç¯è¿‡ç¨‹ï¼šb=9-1=8,a=2; b=8-2=6,a=3; b=6-3=3,a=4; b=3-4=-1,a=5; æ­¤æ—¶b=-1ä¸æ»¡è¶³b>0ï¼Œå¾ªç¯ç»“æŸã€‚"
            },
            {
                question: "14. æ‰§è¡Œä»¥ä¸‹ç¨‹åºæ®µåï¼Œè¾“å‡ºçš„ç»“æœæ˜¯______ã€‚<br>int x=1;<br>while(1){<br>if(x==6) break;<br>x++;<br>}<br>printf(\"%d\\n\",x);",
                options: [
                    "A. 5",
                    "B. 6",
                    "C. 1",
                    "D. 7"
                ],
                correct: 1,
                explanation: "è§£æï¼šxä»1å¼€å§‹æ¯æ¬¡åŠ 1ï¼Œå½“x=6æ—¶breaké€€å‡ºå¾ªç¯ï¼Œæ‰€ä»¥è¾“å‡º6ã€‚"
            },
            {
                question: "15. ä»¥ä¸‹é€‰é¡¹ä¸­å…³äºæ•°ç»„å®šä¹‰å’Œåˆå§‹åŒ–ï¼Œæ­£ç¡®çš„æ˜¯______ã€‚",
                options: [
                    "A. int a[5]={1,2,3,4,5};",
                    "B. int a[5]=(1,2,3,4,5);",
                    "C. int a[5]=0;",
                    "D. int a[3]={1,2,3,4,5};"
                ],
                correct: 0,
                explanation: "è§£æï¼šAé€‰é¡¹æ˜¯æ­£ç¡®çš„æ•°ç»„åˆå§‹åŒ–æ–¹å¼ã€‚Bé€‰é¡¹ç”¨äº†åœ†æ‹¬å·ï¼›Cé€‰é¡¹åªèƒ½åˆå§‹åŒ–ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º0ï¼›Dé€‰é¡¹åˆå§‹å€¼è¿‡å¤šã€‚"
            },
            {
                question: "16. å·²çŸ¥int a[3][2]={1,2,3,4,5,6};ï¼Œåˆ™a[1][1]çš„å€¼æ˜¯______ã€‚",
                options: [
                    "A. 4",
                    "B. 5",
                    "C. 3",
                    "D. 2"
                ],
                correct: 0,
                explanation: "è§£æï¼šäºŒç»´æ•°ç»„æŒ‰è¡Œå­˜å‚¨ï¼Œa[1][1]æ˜¯ç¬¬äºŒè¡Œç¬¬äºŒåˆ—çš„å…ƒç´ ï¼Œå€¼ä¸º4ã€‚"
            },
            {
                question: "17. ä¸‹åˆ—æ•°ç»„å®šä¹‰åŠåˆå§‹åŒ–åˆæ³•çš„æ˜¯______ã€‚",
                options: [
                    "A. char a[8][] = \"language\";",
                    "B. int a[5] = {0,1,2,3,4,5};",
                    "C. char a[] = \"string\";",
                    "D. int a[2][] = {0,1,2,3,4,5,6};"
                ],
                correct: 2,
                explanation: "è§£æï¼šCé€‰é¡¹æ˜¯åˆæ³•çš„å­—ç¬¦æ•°ç»„åˆå§‹åŒ–ã€‚Aé€‰é¡¹äºŒç»´æ•°ç»„ç¼ºå°‘åˆ—æ•°ï¼›Bé€‰é¡¹åˆå§‹å€¼è¿‡å¤šï¼›Dé€‰é¡¹äºŒç»´æ•°ç»„ç¼ºå°‘åˆ—æ•°ã€‚"
            },
            {
                question: "18. ä¸‹åˆ—å‡½æ•°å€¼çš„ç±»å‹æ˜¯______ã€‚<br>fun(float x){<br>int y;<br>y=3*x-1;<br>return y;<br>}",
                options: [
                    "A. int",
                    "B. float",
                    "C. void",
                    "D. double"
                ],
                correct: 0,
                explanation: "è§£æï¼šCè¯­è¨€ä¸­æœªæŒ‡å®šè¿”å›ç±»å‹çš„å‡½æ•°é»˜è®¤è¿”å›intç±»å‹ã€‚"
            },
            {
                question: "19. Cè¯­è¨€å‡½æ•°ä¸­çš„å…¨å±€å˜é‡æ˜¯æŒ‡______ã€‚",
                options: [
                    "A. ä¸»å‡½æ•°çš„å˜é‡",
                    "B. åœ¨æ‰€æœ‰å‡½æ•°ä¹‹å¤–å®šä¹‰çš„å˜é‡",
                    "C. åœ¨å±€éƒ¨å˜é‡æœ‰æ•ˆçš„èŒƒå›´å†…èµ·ä½œç”¨çš„å˜é‡",
                    "D. é»˜è®¤åˆå€¼ä¸èƒ½ä¸º0æˆ–ä¸ºNULLçš„å˜é‡"
                ],
                correct: 1,
                explanation: "è§£æï¼šå…¨å±€å˜é‡æ˜¯åœ¨æ‰€æœ‰å‡½æ•°ä¹‹å¤–å®šä¹‰çš„å˜é‡ï¼Œå…¶ä½œç”¨åŸŸä»å®šä¹‰å¤„å¼€å§‹åˆ°æ–‡ä»¶ç»“æŸã€‚"
            },
            {
                question: "20. è‹¥æœ‰å‡½æ•°ï¼švoid fun(double a[], int *n){...}ï¼Œåˆ™ä»¥ä¸‹å™è¿°ä¸­æ­£ç¡®çš„æ˜¯______ã€‚",
                options: [
                    "A. è°ƒç”¨funå‡½æ•°æ—¶ï¼Œæ•°ç»„aæ‰§è¡ŒæŒ‰å€¼ä¼ é€",
                    "B. å½¢å‚aå’Œnéƒ½å¯ä»¥æ¥æ”¶åœ°å€",
                    "C. å½¢å‚aå’Œnéƒ½æ˜¯æ™®é€šå¸¸é‡",
                    "D. è°ƒç”¨funå‡½æ•°æ—¶ï¼Œå½¢å‚næ‰§è¡ŒæŒ‰å€¼ä¼ é€"
                ],
                correct: 1,
                explanation: "è§£æï¼šæ•°ç»„åä½œä¸ºå‚æ•°ä¼ é€’çš„æ˜¯åœ°å€ï¼ŒæŒ‡é’ˆnä¹Ÿæ˜¯æ¥æ”¶åœ°å€ã€‚"
            },
            {
                question: "21. ç±»å‹ç›¸åŒçš„ä¸¤ä¸ªæŒ‡é’ˆå˜é‡ä¹‹é—´ä¸èƒ½è¿›è¡Œçš„è¿ç®—æ˜¯_______ã€‚",
                options: [
                    "A. +",
                    "B. -",
                    "C. =",
                    "D. =="
                ],
                correct: 0,
                explanation: "è§£æï¼šæŒ‡é’ˆä¹‹é—´å¯ä»¥è¿›è¡Œå‡æ³•ã€èµ‹å€¼å’Œæ¯”è¾ƒè¿ç®—ï¼Œä½†ä¸èƒ½è¿›è¡ŒåŠ æ³•è¿ç®—ã€‚"
            },
            {
                question: "22. è‹¥æœ‰ä»¥ä¸‹ç¨‹åºï¼š<br>#include \"stdio.h\"<br>void sub(int x,int *z){*z=x+1;}<br>void main(){<br>int a;<br>sub(10,&a);<br>printf(\"%d\",a);<br>}",
                options: [
                    "A. 0",
                    "B. 1",
                    "C. 10",
                    "D. 11"
                ],
                correct: 3,
                explanation: "è§£æï¼šsubå‡½æ•°å°†x+1çš„å€¼(11)é€šè¿‡æŒ‡é’ˆzèµ‹ç»™aï¼Œæ‰€ä»¥è¾“å‡º11ã€‚"
            },
            {
                question: "23. ä¸‹åˆ—ç¨‹åºçš„è¾“å‡ºç»“æœæ˜¯______ã€‚<br>#include &lt;stdio.h&gt;<br>#define SQR(x) x*x<br>void main(){<br>int k=2;<br>printf(\"%d\",SQR(k+1));<br>}",
                options: [
                    "A. 9",
                    "B. 6",
                    "C. 5",
                    "D. 4"
                ],
                correct: 2,
                explanation: "è§£æï¼šå®å±•å¼€ä¸ºk+1*k+1=2+1*2+1=5ï¼Œåº”è¯¥ç”¨æ‹¬å·å°†å‚æ•°æ‹¬èµ·æ¥ï¼š#define SQR(x) (x)*(x)ã€‚"
            },
            {
                question: "24. ä¸‹é¢ä¸èƒ½æ­£ç¡®å®šä¹‰ç»“æ„ä½“å˜é‡açš„è¯­å¥æ˜¯______ã€‚",
                options: [
                    "A. struct xyz{char x;int y;float z;}; struct xyz a;",
                    "B. struct xyz{char x;int y;float z;} a;",
                    "C. struct xyz{char x;int y;float z;}; struct a;",
                    "D. struct {char x;int y;float z;} a;"
                ],
                correct: 2,
                explanation: "è§£æï¼šCé€‰é¡¹è¯­æ³•é”™è¯¯ï¼Œstruct a;ç¼ºå°‘ç»“æ„ä½“ç±»å‹åã€‚"
            },
            {
                question: "25. ä»¥è¯»å†™æ–¹å¼æ‰“å¼€ä¸€ä¸ªå·²å­˜åœ¨çš„æ–‡æœ¬æ–‡ä»¶file1.txtï¼Œä»¥ä¸‹é€‰é¡¹ä¸­æ­£ç¡®çš„æ˜¯______ã€‚",
                options: [
                    "A. FILE *fp;fp=fopen(\"file1.txt\",\"r+\");",
                    "B. FILE *fp;fp=fopen(\"file1.txt\",\"w\");",
                    "C. FILE *fp;fp=fopen(\"file1.txt\",\"r\");",
                    "D. FILE *fp;fp=fopen(\"file1.txt\",\"a\");"
                ],
                correct: 0,
                explanation: "è§£æï¼š\"r+\"æ¨¡å¼å¯ä»¥è¯»å†™å·²å­˜åœ¨çš„æ–‡ä»¶ã€‚\"w\"ä¼šæ¸…ç©ºæ–‡ä»¶ï¼›\"r\"åªèƒ½è¯»ï¼›\"a\"åªèƒ½è¿½åŠ ã€‚"
            }
        ];

        // æ”¹é”™é¢˜å’Œå¡«ç©ºé¢˜çš„æ­£ç¡®ç­”æ¡ˆ
        const correctionAnswers = {
            correction1: "1",
            correction2: "1",
            correction3: "'\\n'",
            correction4: "0",
            correction5: "min",
            correction6: "a",
            blank1: "gets(str)",
            blank2: "0",
            blank3: "count++"
        };

        // ç»¼åˆåº”ç”¨é¢˜å‚è€ƒç­”æ¡ˆ
        const programAnswers = {
            program1: `#include &lt;stdio.h&gt;
        void main()
        {
            float a, b, h, s;
            printf("è¯·è¾“å…¥æ¢¯å½¢çš„ä¸Šåº•ã€ä¸‹åº•å’Œé«˜ï¼š");
            scanf("%f%f%f", &a, &b, &h);
            s = (a + b) * h / 2;
            printf("æ¢¯å½¢é¢ç§¯ä¸ºï¼š%.2f\\n", s);
        }`,
            program2: `#include &lt;stdio.h&gt;
        void main()
        {
            int i;
            double s = 0;
            for(i = 1; i <= 100; i++)
            {
                s += 1.0 / i;
            }
            printf("s=%.5f\\n", s);
        }`,
            program3: `#include &lt;stdio.h&gt;
        void main()
        {
            int a[30]={11,15,17,20,31,12,45,56,65,81,68,83,69,62,90,
                        89,85,83,83,70,79,81,62,76,79,66,85,89,89,72};
            int i, sum = 0;
            float avg;
            
            for(i = 0; i < 30; i++)
            {
                sum += a[i];
            }
            avg = sum / 30.0;
            
            printf("ç´¯è®¡æ²»æ„ˆç—…äººæ€»æ•°ï¼š%d\\n", sum);
            printf("æ¯å¤©æ²»æ„ˆç—…äººå¹³å‡æ•°ï¼š%.2f\\n", avg);
        }`
        };

        // åˆå§‹åŒ–è¯•å·
        let score = 0;
        let answeredQuestions = 0;
        const totalScore = 100;
        const questionsContainer = document.getElementById('questions-container');

        // æ¸²æŸ“é€‰æ‹©é¢˜
        questions.forEach((q, index) => {
            const questionDiv = document.createElement('div');
            questionDiv.className = 'question';
            questionDiv.innerHTML = `
                <p>${q.question}</p>
                <div class="options">
                    ${q.options.map((opt, i) => `
                        <div class="option" onclick="selectOption(this, ${index}, ${i})">${opt}</div>
                    `).join('')}
                </div>
                <div id="explanation-${index}" class="explanation">${q.explanation}</div>
            `;
            questionsContainer.appendChild(questionDiv);
        });

        // æ›´æ–°åˆ†æ•°æ˜¾ç¤º
        function updateScore() {
            document.getElementById('score').textContent = score;
            document.getElementById('total').textContent = totalScore;
        }

        // é€‰æ‹©é€‰é¡¹
        window.selectOption = function(element, questionIndex, optionIndex) {
            const question = questions[questionIndex];
            const options = element.parentElement.children;
            
            // ç§»é™¤ä¹‹å‰çš„é€‰æ‹©
            for (let i = 0; i < options.length; i++) {
                options[i].classList.remove('selected', 'correct', 'wrong');
            }
            
            // æ ‡è®°å½“å‰é€‰æ‹©
            element.classList.add('selected');
            
            // æ£€æŸ¥ç­”æ¡ˆ
            if (optionIndex === question.correct) {
                element.classList.add('correct');
                // åªæœ‰ç¬¬ä¸€æ¬¡ç­”å¯¹æ‰åŠ åˆ†
                if (!question.answered) {
                    score += 2;
                    question.answered = true;
                    answeredQuestions++;
                    updateScore();
                }
            } else {
                element.classList.add('wrong');
                // æ ‡è®°æ­£ç¡®ç­”æ¡ˆ
                options[question.correct].classList.add('correct');
            }
            
            // æ˜¾ç¤ºè§£æ
            document.getElementById(`explanation-${questionIndex}`).classList.add('show');
        };

        // æ£€æŸ¥æ”¹é”™é¢˜ç­”æ¡ˆ
        window.checkCorrections = function() {
            // æ ‡å‡†åŒ–å‡½æ•°ï¼šå¤„ç†å…¨è§’/åŠè§’ç¬¦å·ã€å¤šä½™ç©ºæ ¼ç­‰
            const normalizeCode = (code) => {
                return code
                    .replace(/ï¼›/g, ';')  // ä¸­æ–‡åˆ†å· â†’ è‹±æ–‡åˆ†å·
                    .replace(/\s+/g, '')  // ç§»é™¤æ‰€æœ‰ç©ºæ ¼
                    .toLowerCase();
            };

            // æ­£ç¡®ç­”æ¡ˆé…ç½®ï¼ˆæ”¯æŒå¤šç§å½¢å¼ï¼‰
            const answers = {
                1: ["i=6", "i=6;"], 
                2: ["j=1", "j=1;"],
                3: ["printf(\"\\n\")", "printf(\"\\n\");", "printf('\\n');"]
            };

            let score = 0;
            const feedback = document.getElementById('correction-feedback');
            let feedbackHtml = "";

            // æ£€æŸ¥æ¯ä¸ªç©º
            for (let i = 1; i <= 3; i++) {
                const userAnswer = normalizeCode(document.getElementById(`correction${i}`).value);
                const isCorrect = answers[i].some(correct => normalizeCode(correct) === userAnswer);

                if (isCorrect) {
                    score += 5;
                    feedbackHtml += `<p>âœ… ç¬¬ ${i} å¤„æ­£ç¡® (+5åˆ†)</p>`;
                } else {
                    feedbackHtml += `<p>âŒ ç¬¬ ${i} å¤„é”™è¯¯ï¼šåº”ä¸º <code>${answers[i][0]}</code></p>`;
                }
            }

            // æ›´æ–°åˆ†æ•°å’Œåé¦ˆ
            this.score += score;
            updateScore();
            feedback.innerHTML = `${feedbackHtml}<p>æ€»è®¡å¾—åˆ†ï¼š${score}/15 åˆ†</p>`;
            feedback.classList.add('show');
        };

        // æ£€æŸ¥ç¬¬äºŒé“æ”¹é”™é¢˜ç­”æ¡ˆ
        window.checkCorrections2 = function() {
            // æ ‡å‡†åŒ–å‡½æ•°ï¼šå¤„ç†å…¨è§’/åŠè§’ç¬¦å·ã€å¤šä½™ç©ºæ ¼ç­‰
            const normalizeCode = (code) => {
                return code
                    .replace(/ï¼›/g, ';')  // ä¸­æ–‡åˆ†å· â†’ è‹±æ–‡åˆ†å·
                    .replace(/\s+/g, '')  // ç§»é™¤æ‰€æœ‰ç©ºæ ¼
                    .toLowerCase();
            };

        // æ­£ç¡®ç­”æ¡ˆé…ç½®ï¼ˆæ”¯æŒå¤šç§å½¢å¼ï¼‰
        const answers = {
            4: ["min=0", "min=0;"], 
            5: ["return min", "return min;"],
            6: ["min=search(a,10)", "min=search(a,10);"]
        };

        let score = 0;
        const feedback = document.getElementById('correction-feedback2');
        let feedbackHtml = "";

        // æ£€æŸ¥æ¯ä¸ªç©º
        for (let i = 4; i <= 6; i++) {
            const userAnswer = normalizeCode(document.getElementById(`correction${i}`).value);
            const isCorrect = answers[i].some(correct => normalizeCode(correct) === userAnswer);

            if (isCorrect) {
                score += 5;
                feedbackHtml += `<p>âœ… ç¬¬ ${i-3} å¤„æ­£ç¡® (+5åˆ†)</p>`;
            } else {
                feedbackHtml += `<p>âŒ ç¬¬ ${i-3} å¤„é”™è¯¯ï¼šåº”ä¸º <code>${answers[i][0]}</code></p>`;
            }
        }

        // æ›´æ–°åˆ†æ•°å’Œåé¦ˆ
        this.score += score;
        updateScore();
        feedback.innerHTML = `${feedbackHtml}<p>æ€»è®¡å¾—åˆ†ï¼š${score}/15 åˆ†</p>`;
        feedback.classList.add('show');
    };

        // æ£€æŸ¥å¡«ç©ºé¢˜ç­”æ¡ˆ
        window.checkBlanks = function() {
            // æ ‡å‡†åŒ–å‡½æ•°ï¼šå¤„ç†å…¨è§’/åŠè§’ç¬¦å·ã€å¤šä½™ç©ºæ ¼ç­‰
            const normalizeCode = (code) => {
                return code
                    .replace(/ï¼›/g, ';')  // ä¸­æ–‡åˆ†å· â†’ è‹±æ–‡åˆ†å·
                    .replace(/\s+/g, '')  // ç§»é™¤æ‰€æœ‰ç©ºæ ¼
                    .toLowerCase();
            };

            // æ­£ç¡®ç­”æ¡ˆé…ç½®ï¼ˆæ”¯æŒå¤šç§å½¢å¼ï¼‰
            const answers = {
                1: ["gets(str)", "gets(str);"], 
                2: ["0", "0;"],
                3: ["count++", "count++;"]
            };

            let score = 0;
            const feedback = document.getElementById('blank-feedback');
            let feedbackHtml = "";

            // æ£€æŸ¥æ¯ä¸ªç©º
            for (let i = 1; i <= 3; i++) {
                const userAnswer = normalizeCode(document.getElementById(`blank${i}`).value);
                const isCorrect = answers[i].some(correct => normalizeCode(correct) === userAnswer);

                if (isCorrect) {
                    score += 5;
                    feedbackHtml += `<p>âœ… ç¬¬ ${i} å¤„æ­£ç¡® (+5åˆ†)</p>`;
                } else {
                    feedbackHtml += `<p>âŒ ç¬¬ ${i} å¤„é”™è¯¯ï¼šåº”ä¸º <code>${answers[i][0]}</code></p>`;
                }
            }

            // æ›´æ–°åˆ†æ•°å’Œåé¦ˆ
            this.score += score;
            updateScore();
            feedback.innerHTML = `${feedbackHtml}<p>æ€»è®¡å¾—åˆ†ï¼š${score}/15 åˆ†</p>`;
            feedback.classList.add('show');
        };

       // åº”ç”¨é¢˜å¢å¼ºç‰ˆä»£ç éªŒè¯æ–¹æ³•
       window.checkProgram1 = function() {
            const userCode = document.getElementById('program1').value.trim();
            const feedback = document.getElementById('program1-feedback');
            
            let score = 0;
            const checks = [
                { 
                    pattern: /#include\s*<stdio\.h>/i, 
                    weight: 1,
                    message: "âœ… åŒ…å«æ ‡å‡†è¾“å…¥è¾“å‡ºå¤´æ–‡ä»¶"
                },
                { 
                    // æ¥å—floatæˆ–doubleç±»å‹
                    pattern: /(float|double)\s+[abh]/i, 
                    weight: 1,
                    message: "âœ… æ­£ç¡®å®šä¹‰äº†å˜é‡"
                },
                {
                    pattern: /scanf\s*\(.*%f.*[abh]/i,  // æ”¾å®½è¾“å…¥æ£€æŸ¥
                    weight: 2,
                    message: "âœ… æ­£ç¡®è·å–è¾“å…¥æ•°æ®"
                },
                {
                    pattern: /s\s*=\s*.*(a\s*\+\s*b).*\*.*h.*\/.*2|æ¢¯å½¢é¢ç§¯/i,  // æ”¾å®½å…¬å¼æ£€æŸ¥
                    weight: 3,
                    message: "âœ… åŒ…å«æ­£ç¡®çš„é¢ç§¯è®¡ç®—å…¬å¼"
                },
                { 
                    // æ¥å—å„ç§å¸¸è§è¾“å‡ºæ ¼å¼
                    pattern: /printf\s*\(.*(s\s*=.*|æ¢¯å½¢é¢ç§¯.*)(%\.?\d*f|%\.?\d*lf)/i, 
                    weight: 1,
                    message: "âœ… æ­£ç¡®è¾“å‡ºç»“æœ"
                }
            ];

            let feedbackMsg = "<strong>æ£€æŸ¥ç»“æœï¼š</strong><br>";
            checks.forEach(check => {
                if (check.pattern.test(userCode)) {
                    score += check.weight;
                    feedbackMsg += check.message + `<br>`;
                } else {
                    feedbackMsg += `âŒ ç¼ºå°‘ï¼š${check.message.replace("âœ… ", "")}<br>`;
                }
            });

            const finalScore = Math.min(8, Math.floor(score * 8 / 8));
            this.score += finalScore;
            
            feedbackMsg += finalScore >= 6 ? 
                `<br>ğŸ’¡ å¾—åˆ†ï¼š${finalScore}/8 (è‰¯å¥½)` : 
                `<br>ğŸ’¡ å¾—åˆ†ï¼š${finalScore}/8 (å‚è€ƒä»£ç ï¼š<pre>${programAnswers.program1}</pre>)`;

            updateScore();
            feedback.innerHTML = feedbackMsg;
            feedback.classList.add('show');
        };

        window.checkProgram2 = function() {
            const userCode = document.getElementById('program2').value.trim();
            const feedback = document.getElementById('program2-feedback');
            
            let score = 0;
            const checks = [
                {
                    pattern: /for\s*\(.*[int]?\s*i\s*=.*1.*;.*i\s*<=.*100/i,
                    weight: 3,
                    message: "âœ… æ­£ç¡®å®ç°1-100å¾ªç¯"
                },
                {
                    pattern: /s\s*\+=\s*1\.0\s*\/\s*i|s\s*=\s*s\s*\+\s*1\.0\s*\/\s*i/i,
                    weight: 4,
                    message: "âœ… åŒ…å«æ­£ç¡®çš„ç´¯åŠ é€»è¾‘"
                },
                {
                    pattern: /printf\s*\(.*%\.5f/i,
                    weight: 3,
                    message: "âœ… æ­£ç¡®æ ¼å¼åŒ–è¾“å‡º(5ä½å°æ•°)"
                }
            ];

            let feedbackMsg = "<strong>æ£€æŸ¥ç»“æœï¼š</strong><br>";
            checks.forEach(check => {
                if (check.pattern.test(userCode)) {
                    score += check.weight;
                    feedbackMsg += check.message + `<br>`;
                } else {
                    feedbackMsg += `âŒ ç¼ºå°‘ï¼š${check.message.replace("âœ… ", "")}<br>`;
                }
            });

            const finalScore = Math.min(10, Math.floor(score * 10 / 10));
            this.score += finalScore;
            
            feedbackMsg += finalScore >= 7 ? 
                `<br>ğŸ’¡ å¾—åˆ†ï¼š${finalScore}/10 (è‰¯å¥½)` : 
                `<br>ğŸ’¡ å¾—åˆ†ï¼š${finalScore}/10 (å‚è€ƒä»£ç ï¼š<pre>${programAnswers.program2}</pre>)`;

            updateScore();
            feedback.innerHTML = feedbackMsg;
            feedback.classList.add('show');
        };

        window.checkProgram3 = function() {
            const userCode = document.getElementById('program3').value.trim();
            const feedback = document.getElementById('program3-feedback');
            
            let score = 0;
            const checks = [
                {
                    pattern: /for\s*\(.*i\s*=.*0.*;.*i\s*<.*30/i,
                    weight: 3,
                    message: "âœ… æ­£ç¡®éå†30å¤©æ•°æ®"
                },
                {
                    pattern: /sum\s*\+=\s*a\[i\]|sum\s*=\s*sum\s*\+\s*a\[i\]/i,
                    weight: 4,
                    message: "âœ… æ­£ç¡®è®¡ç®—ç´¯è®¡å€¼"
                },
                {
                    pattern: /(avg|aver)\s*=\s*sum\s*\/\s*(30\.0|30\.[0f])|sum\s*\/\s*30\.[0f]/i,  // æ¥å—avgæˆ–aver
                    weight: 3,
                    message: "âœ… æ­£ç¡®è®¡ç®—å¹³å‡å€¼"
                },
                {
                    pattern: /printf\s*\(.*%\.2[lf]/i,  // åŒæ—¶æ¥å—%få’Œ%lf
                    weight: 2,
                    message: "âœ… æ­£ç¡®æ ¼å¼åŒ–è¾“å‡º(2ä½å°æ•°)"
                }
            ];

            let feedbackMsg = "<strong>æ£€æŸ¥ç»“æœï¼š</strong><br>";
            checks.forEach(check => {
                if (check.pattern.test(userCode)) {
                    score += check.weight;
                    feedbackMsg += check.message + `<br>`;
                } else {
                    feedbackMsg += `âŒ ç¼ºå°‘ï¼š${check.message.replace("âœ… ", "")}<br>`;
                }
            });

            const finalScore = Math.min(12, Math.floor(score * 12 / 12));
            this.score += finalScore;
            
            feedbackMsg += finalScore >= 9 ? 
                `<br>ğŸ’¡ å¾—åˆ†ï¼š${finalScore}/12 (ä¼˜ç§€)` : 
                `<br>ğŸ’¡ å¾—åˆ†ï¼š${finalScore}/12 (å‚è€ƒä»£ç ï¼š<pre>${programAnswers.program3}</pre>)`;

            updateScore();
            feedback.innerHTML = feedbackMsg;
            feedback.classList.add('show');
        };

        // åˆå§‹åŒ–åˆ†æ•°æ˜¾ç¤º
        updateScore();
    </script>
</body>
</html>
